<!DOCTYPE HTML>
<html>
  <head>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
  </head>
  <body>
     <script>
      function getName(str) {
          var xmlhttp = new XMLHttpRequest();
          xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
              $('#message').text(this.responseText == 'User not found' ? this.responseText : 'Welcome, ' + this.responseText);
            }
          }
          xmlhttp.open('GET', 'sheets.php?q='+str, true);
          xmlhttp.send();
        }

      function createUser(name, passcode) {
          var xmlhttp = new XMLHttpRequest();
          xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
              alert('Successfully added user ' + this.responseText);
            }
          }
          xmlhttp.open('GET', 'sheets.php?createUser=' + name + '&passcode=' + passcode, true);
          xmlhttp.send();
        }
      
    </script>
    login:
    <br>
    password: <input id='password'>
    <button onclick="getName($('#password').val())">submit</button>
    <br><br>
    create user: 
    <br>
    name: <input id='name'>
    password: <input id='passcode'>
    <button onclick="createUser($('#name').val(), $('#passcode').val())">submit</button>
    <p id='message'>you are not logged in</p>
  </body>
</html>
